(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],d=0,g=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&g.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(g.length)g.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},s={app:0},n=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2532:function(e,t,a){"use strict";var i=a("be8b"),s=a.n(i);s.a},"34a7":function(e,t,a){"use strict";var i=a("3aee"),s=a.n(i);s.a},"3aee":function(e,t,a){},"3cc2":function(e,t,a){},"3fc4":function(e,t,a){},"52dd":function(e,t,a){"use strict";var i=a("3fc4"),s=a.n(i);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("Image Gallery")]),a("SearchBar"),a("GridView")],1)},n=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-bar"}},[a("span",{staticClass:"search-label"},[e._v("Search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyWords,expression:"keyWords"}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:e.keyWords},on:{input:[function(t){t.target.composing||(e.keyWords=t.target.value)},e.searchImages]}}),a("span",{staticClass:"info-label"},[e._v("Display "+e._s(this.filteredImages.length)+" of "+e._s(this.allImages.length)+" images")])])},o=[],c=(a("4de4"),a("c975"),a("5530")),l=a("2f62"),u={name:"SearchBar",data:function(){return{keyWords:"",filteredImages:[]}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["fetchImages","showFilteredImages"])),{},{searchImages:function(){var e=this;this.filteredImages=this.allImages.filter((function(t){return t.title.toLowerCase().indexOf(e.keyWords.toLowerCase())>-1})),this.showFilteredImages(this.filteredImages)}}),computed:Object(l["c"])(["allImages"]),created:function(){var e=this;this.fetchImages().then((function(){e.filteredImages=e.allImages}))}},d=u,g=(a("2532"),a("2877")),m=Object(g["a"])(d,r,o,!1,null,"5f9aee05",null),p=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"grid-view"}},[a("div",{staticClass:"grid"},e._l(e.imagesOnDisplay,(function(e){return a("ImageItem",{key:e.id,staticClass:"grid-item",attrs:{image:e}})})),1),e.isLoaded?a("Pager"):e._e()],1)},h=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"image-item"}},[e.show?a("DetailView",{key:this.image.id,attrs:{image:e.image},on:{showHide:e.showHideDetails}}):e._e(),a("img",{attrs:{src:e.createImage},on:{click:e.showDetails,error:function(t){e.imageError=!0}}}),a("span",[e._v(e._s(this.image.title))])],1)},v=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"detail-view"}},[a("div",{staticClass:"blur",on:{click:e.closeDetailView}}),a("div",{staticClass:"detail-container"},[a("div",{staticClass:"view-title"},[e._v(e._s(this.image.title))]),a("div",{staticClass:"title-edit"},[a("span",[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.titleInput,expression:"titleInput"}],attrs:{type:"text"},domProps:{value:e.titleInput},on:{input:function(t){t.target.composing||(e.titleInput=t.target.value)}}})]),a("div",{staticClass:"description"},[a("span",[e._v("Description")]),e.hasDescription?a("div",{attrs:{contenteditable:"false"},domProps:{innerHTML:e._s(e.descriptionInput)}}):e._e(),e.hasDescription?e._e():a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descriptionInput,expression:"descriptionInput"}],domProps:{value:e.descriptionInput},on:{input:function(t){t.target.composing||(e.descriptionInput=t.target.value)}}})]),a("div",{staticClass:"domain"},[a("span",[e._v("Public Domain")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.isPublic,expression:"isPublic"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isPublic)?e._i(e.isPublic,null)>-1:e.isPublic},on:{change:function(t){var a=e.isPublic,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);i.checked?r<0&&(e.isPublic=a.concat([n])):r>-1&&(e.isPublic=a.slice(0,r).concat(a.slice(r+1)))}else e.isPublic=s}}})]),a("div",{staticClass:"info"},[a("div",[e._v("ID: "+e._s(this.image.id))]),a("div",[e._v("Owner Name: "+e._s(this.image.ownername))]),a("div",[e._v("Image Dimensions: "+e._s(this.image.width_m)+" x "+e._s(this.image.height_m))])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn-cancel",on:{click:e.closeDetailView}},[e._v("Cancel")]),a("button",{staticClass:"btn-save",on:{click:e.saveChanges}},[e._v("Save")])])])])},P=[],_=(a("a4d3"),a("e01a"),{name:"DetailView",props:["image"],data:function(){return{titleInput:this.image.title,descriptionInput:this.image.description._content,isPublic:this.image.ispublic,hasDescription:!!this.image.description._content}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["saveImageDetails"])),{},{closeDetailView:function(){this.$emit("showHide",!1)},saveChanges:function(){this.image["title"]=this.titleInput,this.image.description["_content"]=this.descriptionInput,this.image["ispublic"]=this.isPublic,this.saveImageDetails(this.image),this.closeDetailView()}})}),w=_,y=(a("fbf5"),Object(g["a"])(w,I,P,!1,null,"9ee27b2a",null)),O=y.exports,j={name:"ImageItem",props:["image"],data:function(){return{show:!1,imageError:!1}},components:{DetailView:O},methods:{showDetails:function(){this.show=!0},showHideDetails:function(e){this.show=e}},computed:{createImage:function(){return this.imageError?"./default.jpg":this.image.url_m}}},x=j,C=(a("636b"),Object(g["a"])(x,b,v,!1,null,"4e2187d6",null)),D=C.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pager"},[a("button",{staticClass:"fas fa-caret-left large",attrs:{disabled:!!e.disablePageLeft},on:{click:e.goToStart}}),a("button",{staticClass:"fas fa-chevron-left small",attrs:{disabled:!!e.disablePageLeft},on:{click:function(t){return e.pageThrough(!1)}}}),a("div",{staticClass:"content"},[a("input",{attrs:{type:"text",placeholder:e.currentPage,disabled:""}}),a("span",[e._v("of")]),a("span",[e._v(e._s(this.totalPages))])]),a("button",{staticClass:"fas fa-chevron-right small",attrs:{disabled:!!e.disablePageRight},on:{click:function(t){return e.pageThrough(!0)}}}),a("button",{staticClass:"fas fa-caret-right large",attrs:{disabled:!!e.disablePageRight},on:{click:e.goToEnd}})])},S=[],T={name:"Pager",methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["updateImages"])),{},{goToStart:function(){this.updateImages({indexFrom:0,currentPage:1})},goToEnd:function(){var e=this.totalPages;this.updateImages({indexFrom:8*e-8,currentPage:e})},pageThrough:function(e){var t=e?this.currentPage+1:this.currentPage-1,a=8*(t-1);this.updateImages({indexFrom:a,currentPage:t})}}),computed:Object(l["c"])(["totalPages","currentPage","disablePageLeft","disablePageRight"])},L=T,E=(a("34a7"),Object(g["a"])(L,k,S,!1,null,"91e372a4",null)),F=E.exports,V={name:"GridView",data:function(){return{isLoaded:!1}},components:{ImageItem:D,Pager:F},methods:Object(c["a"])({},Object(l["b"])(["fetchImages"])),computed:Object(l["c"])(["imagesOnDisplay"]),created:function(){var e=this;this.fetchImages().then((function(){return e.isLoaded=!0}))}},R=V,$=(a("52dd"),Object(g["a"])(R,f,h,!1,null,"5e432544",null)),A=$.exports,M={name:"App",components:{SearchBar:p,GridView:A}},B=M,W=(a("6d1e"),Object(g["a"])(B,s,n,!1,null,"6dff8cea",null)),H=W.exports,N=(a("4160"),a("fb6a"),a("159b"),a("96cf"),a("1da1")),G=a("bc3a"),J=a.n(G),q={allImages:[],imagesOnDisplay:[],filteredImages:[],totalPages:"",currentPage:"",disablePageLeft:!0,disablePageRight:!1},z={allImages:function(e){return e.allImages},filteredImages:function(e){return e.filteredImages},imagesOnDisplay:function(e){return e.imagesOnDisplay},totalPages:function(e){return e.totalPages},currentPage:function(e){return e.currentPage},disablePageLeft:function(e){return e.disablePageLeft},disablePageRight:function(e){return e.disablePageRight}},K={fetchImages:function(e){return Object(N["a"])(regeneratorRuntime.mark((function t(){var a,i,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,J.a.get("./data.json");case 3:i=t.sent,s=i.data.photos.photo,n=i.data.photos.photo.slice(0,8),r=Math.ceil(s.length/8),a("persistAllImages",s),a("persistFilteredImages",s),a("displayImages",n),a("updateTotalPages",r),a("updateCurrentPage",1);case 12:case"end":return t.stop()}}),t)})))()},updateImages:function(e,t){var a=e.commit,i=q.allImages.slice(t.indexFrom,t.indexFrom+8);a("displayImages",i),a("updateCurrentPage",t.currentPage),a("updateButtonStatus")},showFilteredImages:function(e,t){var a=e.commit,i=t.slice(0,8),s=Math.ceil(t.length/8);a("persistFilteredImages",t),a("displayImages",i),a("updateTotalPages",s),a("updateCurrentPage",1),a("updateButtonStatus")},saveImageDetails:function(e,t){var a=e.commit;a("updateImageItem",t)}},Q={persistAllImages:function(e,t){return e.allImages=t},persistFilteredImages:function(e,t){return e.filteredImages=t},displayImages:function(e,t){return e.imagesOnDisplay=t},updateTotalPages:function(e,t){return e.totalPages=t},updateCurrentPage:function(e,t){return e.currentPage=t},updateImageItem:function(e,t){e.allImages.forEach((function(a,i){a.id===t.id&&(e.allImages[i]=t)}))},updateButtonStatus:function(e){e.disablePageLeft=1===e.currentPage,e.disablePageRight=e.currentPage===e.totalPages}},U={state:q,getters:z,actions:K,mutations:Q};i["a"].use(l["a"]);var X=new l["a"].Store({modules:{images:U}});i["a"].config.productionTip=!1,new i["a"]({store:X,render:function(e){return e(H)}}).$mount("#app")},"636b":function(e,t,a){"use strict";var i=a("9138"),s=a.n(i);s.a},"6d1e":function(e,t,a){"use strict";var i=a("bfd5"),s=a.n(i);s.a},9138:function(e,t,a){},be8b:function(e,t,a){},bfd5:function(e,t,a){},fbf5:function(e,t,a){"use strict";var i=a("3cc2"),s=a.n(i);s.a}});
//# sourceMappingURL=app.71362ded.js.map